<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>waterFall</title>
<style>
* {
    margin: 0;
    padding: 0;
}
ul {
    position: relative;
    margin: 10px auto;
    list-style: none;
}
.img-ct li {
    position: absolute;
    width: 200px;
    margin: 10px;
}
.img-ct li img {
    width: 100%;
}

</style>
</head>
<body>
    <ul class="img-ct">
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447987&di=ab8a431d49172ea1ec667e394657767d&imgtype=0&src=http%3A%2F%2Fp2.ifengimg.com%2Fa%2F2017_07%2F93e05704d2ba770_size93_w800_h450.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447988&di=0e9a8664a8a1b0b384d8eec5c5ec6d1a&imgtype=0&src=http%3A%2F%2Fm.qqzhi.com%2Fupload%2Fimg_3_4186711880D3148327079_23.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447987&di=e27ca72eb38a8eea91177a2ecc28b268&imgtype=0&src=http%3A%2F%2Fpic.ffpic.com%2Ffiles%2Fdesk%2F0723ka6.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447985&di=5adbd77ca1e16c60dc3d1964f5925725&imgtype=0&src=http%3A%2F%2Fg.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2Ff703738da977391265c29db6fd198618377ae205.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447986&di=ff1eecee4cca96da12eb628611d776c1&imgtype=0&src=http%3A%2F%2Fpic29.nipic.com%2F20130531%2F12299514_170840651000_2.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399357616&di=0f32690021a0b77561ead05df568979b&imgtype=0&src=http%3A%2F%2Fe.hiphotos.baidu.com%2Fimage%2Fpic%2Fitem%2F48540923dd54564ebeddbc57b9de9c82d1584f27.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447992&di=6a464ef5766aef67c3ed03e217b9643d&imgtype=0&src=http%3A%2F%2Fh.hiphotos.baidu.com%2Fzhidao%2Fwh%253D600%252C800%2Fsign%3Da629a3dec9177f3e1061f40b40ff17ff%2Fa2cc7cd98d1001e94ee02567b80e7bec55e797fd.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399559853&di=08acc1c28b4b34e830e02bfb562858e5&imgtype=jpg&src=http%3A%2F%2Fimg1.imgtn.bdimg.com%2Fit%2Fu%3D2492457717%2C1542143450%26fm%3D214%26gp%3D0.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447983&di=984bfe59ded025c5759589a4f803bf01&imgtype=0&src=http%3A%2F%2Fd.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2F0823dd54564e92588af2fa859c82d158cdbf4e92.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447986&di=ff1eecee4cca96da12eb628611d776c1&imgtype=0&src=http%3A%2F%2Fpic29.nipic.com%2F20130531%2F12299514_170840651000_2.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399502099&di=04c4d8fb9e2da354b91a0121f373a444&imgtype=0&src=http%3A%2F%2Fpic13.nipic.com%2F20110322%2F6766382_140724415154_2.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447986&di=ff1eecee4cca96da12eb628611d776c1&imgtype=0&src=http%3A%2F%2Fpic29.nipic.com%2F20130531%2F12299514_170840651000_2.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399357616&di=0f32690021a0b77561ead05df568979b&imgtype=0&src=http%3A%2F%2Fe.hiphotos.baidu.com%2Fimage%2Fpic%2Fitem%2F48540923dd54564ebeddbc57b9de9c82d1584f27.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447992&di=6a464ef5766aef67c3ed03e217b9643d&imgtype=0&src=http%3A%2F%2Fh.hiphotos.baidu.com%2Fzhidao%2Fwh%253D600%252C800%2Fsign%3Da629a3dec9177f3e1061f40b40ff17ff%2Fa2cc7cd98d1001e94ee02567b80e7bec55e797fd.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399559853&di=08acc1c28b4b34e830e02bfb562858e5&imgtype=jpg&src=http%3A%2F%2Fimg1.imgtn.bdimg.com%2Fit%2Fu%3D2492457717%2C1542143450%26fm%3D214%26gp%3D0.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447983&di=984bfe59ded025c5759589a4f803bf01&imgtype=0&src=http%3A%2F%2Fd.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2F0823dd54564e92588af2fa859c82d158cdbf4e92.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447986&di=ff1eecee4cca96da12eb628611d776c1&imgtype=0&src=http%3A%2F%2Fpic29.nipic.com%2F20130531%2F12299514_170840651000_2.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447987&di=ab8a431d49172ea1ec667e394657767d&imgtype=0&src=http%3A%2F%2Fp2.ifengimg.com%2Fa%2F2017_07%2F93e05704d2ba770_size93_w800_h450.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447988&di=0e9a8664a8a1b0b384d8eec5c5ec6d1a&imgtype=0&src=http%3A%2F%2Fm.qqzhi.com%2Fupload%2Fimg_3_4186711880D3148327079_23.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447987&di=e27ca72eb38a8eea91177a2ecc28b268&imgtype=0&src=http%3A%2F%2Fpic.ffpic.com%2Ffiles%2Fdesk%2F0723ka6.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447985&di=5adbd77ca1e16c60dc3d1964f5925725&imgtype=0&src=http%3A%2F%2Fg.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2Ff703738da977391265c29db6fd198618377ae205.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447986&di=ff1eecee4cca96da12eb628611d776c1&imgtype=0&src=http%3A%2F%2Fpic29.nipic.com%2F20130531%2F12299514_170840651000_2.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447987&di=ab8a431d49172ea1ec667e394657767d&imgtype=0&src=http%3A%2F%2Fp2.ifengimg.com%2Fa%2F2017_07%2F93e05704d2ba770_size93_w800_h450.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447988&di=0e9a8664a8a1b0b384d8eec5c5ec6d1a&imgtype=0&src=http%3A%2F%2Fm.qqzhi.com%2Fupload%2Fimg_3_4186711880D3148327079_23.jpg" alt="">
        </li>
        <li>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508399447987&di=e27ca72eb38a8eea91177a2ecc28b268&imgtype=0&src=http%3A%2F%2Fpic.ffpic.com%2Ffiles%2Fdesk%2F0723ka6.jpg" alt="">
        </li>
    </ul>

<script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>

var $cards = $('.img-ct li')

waterFall($cards)

$(window).resize(function(){
    waterFall($cards)
})

function waterFall($cards) {
    var colSumHeight = []
    var $ct = $('.img-ct')
    var ctWidth = $ct.width()
    var cardWidth = $cards.outerWidth(true)

    for(let i = 0; i < parseInt(ctWidth / cardWidth); i++) {
        colSumHeight.push(0)
    }
    $cards.each(function() {
        putCard($(this))
    })
    function putCard($card) {
        var minItem = Math.min.apply(null, colSumHeight)
        var minIndex = colSumHeight.indexOf(minItem)
        console.log(minItem)
        $card.css({
            top: minItem,
            left: cardWidth * minIndex
        })
        colSumHeight[minIndex] += $card.outerHeight(true)
    }    
}
</script>    
</body>
</html>